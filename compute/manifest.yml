pg_settings:
  # Common settings for primaries and secondaries of all versions.
  common:
    fsync: "off"
    hot_standby: "off"
    listen_addresses: "*"
    max_connections: "100"
    max_replication_slots: "10"
    max_wal_senders: "10"
    superuser_reserved_connections: "7"
    password_encryption: "scram-sha-256"
    idle_in_transaction_session_timeout: "300000"
    restart_after_crash: "off"
    synchronous_standby_names: "walproposer"
    wal_level: "replica"
    wal_log_hints: "off"
    max_wal_size: "1024"
    max_replication_write_lag: "500"
    max_replication_flush_lag: "10240"
    wal_sender_timeout: "10000"
    client_connection_check_interval: "60000"
    log_connections: "on"
    log_disconnections: "on"
    log_temp_files: "1048576"
    log_error_verbosity: "terse"
    log_min_error_statement: "panic"
    neon.unstable_extensions: "rag,rag_bge_small_en_v15,rag_jina_reranker_v1_tiny_en,pg_mooncake,anon"
    neon.protocol_version: "3"
    maintenance_io_concurrency: "100"

  replica:
    hot_standby: "on"

  per_version:
    17:
      common:
        io_combine_limit: "1"
        recovery_prefetch: "off"
    16:
        recovery_prefetch: "off"
    15:
        recovery_prefetch: "off"